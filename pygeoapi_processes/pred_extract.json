{
    "version": "0.1.0",
    "id": "pred-extract",
    "use_case": "BOKU",
    "title": {
        "en": "pred extract for extraction of environmnetal data"
    },
    "description": {
        "en": "pred_extract (4/5). For extraction of environmental data used for species distribution modeling."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["pan-european use case", "AquaINFRA", "R"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo",
        "href": "https://github.com/AnthonyBasooma/specleanr",
        "hreflang": "en-US"
    }],
    "inputs": {
        "input_data": {
            "title": "Occurrence data",
            "description": "URL to a table containing the occurrences from any source. This can be the outcome of the checknames process.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        },
        "input_raster_url_or_name": {
            "title": "Input raster",
            "description": "URL of a cloud-optimized raster to be used (will not be downloaded but accessed remotely), or the name of one of the static rasters on the server. Currently only worldclim is available, for testing purposes.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "study_area_extent": {
            "title": "Area of Interest (Shapefile)",
            "description": "URL to the input shapefile containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["shapefile"]
        },
        "study_area_geojson_url": {
            "title": "Area of Interest (GeoJSON)",
            "description": "URL to the input GeoJSON file containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "study_area_geojson": {
            "title": "Area of Interest (GeoJSON, directly)",
            "description": "Directly post the GeoJSON containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "colname_lat": {
            "title": "Column name: Latitude",
            "description": "Column name lat. Example: \"decimalLatitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_lon": {
            "title": "Column name: Longitude",
            "description": "Column name lon. Example: \"decimalLongitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_species": {
            "title": "Column name: Species",
            "description": "Column name species. Example: \"speciescheck\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "mininmum_sprecords": {
            "title": "Min pts to consider the species dataframe.",
            "description": "The minimum number of points in a dataframe to allow aspecies retained in the dataframe. Example: 10, is species dataset is less than 10 records will be rejected.",
            "schema": {
                "type": "number"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "minimum_sprecordsallow": {
            "title": "Logical to either species with fewer records",
            "description": "In species distribution models, species with fewer records needs to be removed but normal data extraction this parameter should be set to FALSE to retain all species.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_merge": {
            "title": "Merge extracted data",
            "description": "This allows to return the full dataset with merged with extracted data.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_list": {
            "title": "Return a list of dataframe for species if they are more than 1.",
            "description": "For multiple species, if set to TRUE, then a list of species dataframes are returned. If false, then a dataframe is returned.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_coords": {
            "title": "Logical to attach the original coordinates.",
            "description": "If TRUE, the original records used for data extraction will be attached on the dataset. Easy to tract the slight changes in coordinates during data extraction.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_remove_nas": {
            "title": "Remove NAs after data extraction.",
            "description": "If TRUE, the NAs created when the coordinates didnot retrun records and left in the dataset. Default TRUE",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_remove_duplicates": {
            "title": "Remove duplicates.",
            "description": "If TRUE, duplicates records will be removed. Default TRUE",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        }
    },
    "outputs": {
        "multiprecleaned": {
            "title": "Records extracted from raster files.",
            "description": "The environmental variables extracted from raster files such as WORLDCLIM, CHELSA, and Copernicus data.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/json"
            }
        }
    },
    "example": {
        "inputs": {
            "input_data": "https://localhost/download/out/filtered-biodiv-data.csv",
            "input_raster_name": "worldclim",
            "study_area": "https://localhost/referencedata/specleanr/basinfinal.zip",
            "colname_lat": "decimalLatitude",
            "colname_lon": "decimalLongitude",
            "colname_species": "speciescheck",
            "min_pts": 10,
            "bool_multiple_species": true,
            "bool_merge": false,
            "bool_list": false
        }
    }
}
