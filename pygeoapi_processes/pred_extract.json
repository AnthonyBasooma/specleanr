{
    "version": "0.1.0",
    "id": "pred-extract",
    "use_case": "BOKU",
    "title": {
        "en": "pred extract for extraction of environmnetal data"
    },
    "description": {
        "en": "pred_extract. For extraction of environmental data used for species distribution modeling."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["pan-european use case", "AquaINFRA", "R"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo",
        "href": "https://github.com/AnthonyBasooma/specleanr",
        "hreflang": "en-US"
    }],
    "inputs": {
        "input_data": {
            "title": "Occurrence data",
            "description": "URL to a table containing the occurrences from any source. This can be the outcome of the check-names process.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        },
        "input_raster_url_or_name": {
            "title": "Input raster",
            "description": "URL of a cloud-optimized raster to be used (will not be downloaded but accessed remotely), or the name of one of the static rasters on the server. Currently only worldclim is available, for testing purposes.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "study_area_extent": {
            "title": "Area of Interest as a Shapefile",
            "description": "URL to the input shapefile containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["shapefile"]
        },
        "study_area_geojson_url": {
            "title": "Area of Interest as a GeoJSON",
            "description": "URL to the input GeoJSON file containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "study_area_geojson": {
            "title": "Area of Interest as GeoJSON object",
            "description": "Directly post the GeoJSON containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "object"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "colname_lat": {
            "title": "Column name including Latitude",
            "description": "Column name lat. Example: \"decimalLatitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_lon": {
            "title": "Column name including Longitude",
            "description": "Column name lon. Example: \"decimalLongitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_species": {
            "title": "Column name including Species",
            "description": "Column name species. Example: \"speciescheck\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "mininmum_sprecords": {
            "title": "Minimum points to consider from the species dataset",
            "description": "The minimum number of points in a dataset to allow species retained in the dataset. Example: 10, is species dataset is less than 10 records will be ignored.",
            "schema": {
                "type": "integer"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_merge": {
            "title": "Merge extracted data",
            "description": "This allows to return the full dataset with merged with extracted data",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_list": {
            "title": "Return a list of dataframe for species if they are more than 1",
            "description": "For multiple species, if set to TRUE, then a list of species dataframes are returned. If false, then a dataframe is returned.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_coords": {
            "title": "Attach the original coordinates",
            "description": "If YES, the original records used for data extraction will be attached on the dataset. Easy to tract the slight changes in coordinates during data extraction.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_remove_nas": {
            "title": "Remove NAs after data extraction",
            "description": "If YES, the NAs created when the coordinates did not retrun records and left in the dataset.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_remove_duplicates": {
            "title": "Remove duplicates",
            "description": "If YES, duplicates records will be removed.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "minimum_sprecordsallow": {
            "title": "Minimum species records to consider before using data in species distribution modeling",
            "description": "In species distribution models, species with fewer records needs to be removed but normal data extraction this parameter should be set to FALSE to retain all species.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        }
    },
    "outputs": {
        "multiprecleaned": {
            "title": "Records extracted from raster files.",
            "description": "The environmental variables extracted from raster files such as WORLDCLIM, CHELSA, and Copernicus data.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/json"
            }
        }
    },
    "example": {
        "inputs": {
            "input_data": "https://example.com/filtered-biodiv-data.csv",
            "input_raster_url_or_name": "worldclim",
            "study_area_geojson_url": "https://example.com/danube.geojson",
            "colname_lat": "decimalLatitude",
            "colname_lon": "decimalLongitude",
            "colname_species": "species",
            "mininmum_sprecords": 10,
            "bool_merge": true,
            "bool_list": false,
            "bool_coords": true,
            "bool_remove_nas": true,
            "bool_remove_duplicates": false,
            "minimum_sprecordsallow": false
        }
    }
}
