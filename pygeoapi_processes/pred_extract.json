{
    "version": "0.1.0",
    "id": "pred-extract",
    "use_case": "BOKU",
    "title": {
        "en": "pred extract for extraction of environmnetal data"
    },
    "description": {
        "en": "pred_extract (4/5). For extraction of environmental data used for species distribution modeling."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["pan-european use case", "AquaINFRA", "R"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo",
        "href": "https://github.com/AnthonyBasooma/specleanr",
        "hreflang": "en-US"
    }],
    "inputs": {
        "input_data": {
            "title": "Occurrence data",
            "description": "URL to a table containing the occurrences from any source. This can be the outcome of the checknames process.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        },
        "input_raster_url_or_name": {
            "title": "Input raster",
            "description": "URL of a cloud-optimized raster to be used (will not be downloaded but accessed remotely), or the name of one of the static rasters on the server. Currently only worldclim is available, for testing purposes.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "study_area": {
            "title": "Area of Interest (Shapefile)",
            "description": "URL to the input shapefile containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["shapefile"]
        },
        "study_area_geojson_url": {
            "title": "Area of Interest (GeoJSON)",
            "description": "URL to the input GeoJSON file containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "study_area_geojson": {
            "title": "Area of Interest (GeoJSON, directly)",
            "description": "Directly post the GeoJSON containing the study areas inside which you would like to delineate the bounding box or extent for study area.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": ["JSON", "GeoJSON"]
        },
        "colname_lat": {
            "title": "Column name: Latitude",
            "description": "Column name lat. Example: \"decimalLatitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_lon": {
            "title": "Column name: Longitude",
            "description": "Column name lon. Example: \"decimalLongitude\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_species": {
            "title": "Column name: Species",
            "description": "Column name species. Example: \"speciescheck\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "min_pts": {
            "title": "Min pts to consider the species dataframe.",
            "description": "The minimum number of points in a dataframe to allow aspecies retained in the dataframe. Example: 10, is species dataset is less than 10 records will be rejected.",
            "schema": {
                "type": "number"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_multiple_species": {
            "title": "Either multiple or single species.",
            "description": "If true, then the number of species must be greater than 1.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_merge": {
            "title": "Merge extracted data",
            "description": "This allows to return the full dataset with merged with extracted data.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "bool_list": {
            "title": "Return a list of dataframe for species if they are more than 1.",
            "description": "For multiple species, if set to TRUE, then a list of species dataframes are returned. If false, then a dataframe is returned.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        }
    },
    "outputs": {
        "multiprecleaned": {
            "title": "Records extracted from raster files.",
            "description": "The environmental variables extracted from raster files such as WORLDCLIM, CHELSA, and Copernicus data.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/json"
            }
        }
    },
    "example": {
        "inputs": {
            "input_data": "https://localhost/download/out/filtered-biodiv-data.csv",
            "input_raster_name": "worldclim",
            "study_area": "https://localhost/referencedata/specleanr/basinfinal.zip",
            "colname_lat": "decimalLatitude",
            "colname_lon": "decimalLongitude",
            "colname_species": "speciescheck",
            "min_pts": 10,
            "bool_multiple_species": true,
            "bool_merge": false,
            "bool_list": false
        }
    }
}
