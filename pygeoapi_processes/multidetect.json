{
    "version": "0.2.0",
    "id": "multidetect-and-clean",
    "use_case": "BOKU",
    "title": {
        "en": "Run multidetect and clean the data (5/5)"
    },
    "description": {
        "en": "This process detects outliers using various methods and cleans the data: Ensemble multiple outlier detection methods to ably compare the outliers flagged by each method; then extract final clean data using either absolute or best method generated outliers. For more details, please ask BOKU."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["pan-european use case", "AquaINFRA", "R"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo",
        "href": "https://github.com/AnthonyBasooma/specleanr",
        "hreflang": "en-US"
    },
    {
        "type": "text/html",
        "rel": "about",
        "title": "Vignette containing this example",
        "href": "https://github.com/AnthonyBasooma/specleanr/blob/master/vignettes/generaloutlier.Rmd",
        "hreflang": "en-US"
    }],
    "inputs": {
        "input_data": {
            "title": "Input table",
            "description": "URL to the input table containing the data to be cleaned from outliers: Data sets for multiple or single species after of extraction of environment predictors.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["table", "csv"]
        },
        "colname_variable": {
            "title": "Variable of interest.",
            "description": "Column name identifying the variable of interest where outliers will be checked from by the univariate outlier detection methods, Z-score, mixed interquantile range, reverse jackknifing etc... In species distribution modeling, the variable of interest to be used should have direct effects to the species such as maximum temperature of the coldest month for bioclimatic variables (IUCN Standards and Petitions Committee, 2022) or stream power index for hydromorphological parameters (Logez et al., 2012).",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["column"]
        },
        "multiple_species": {
            "title": ": Distinguish between multiple species",
            "description": "If \"false\", then only a single species dataset is expected. However, if multiple species are considered, then the parameter must be set to \"true\". The \"colsp\" is also required to set the column with species names. If the data is a list of indivudual data, then \"colsp\" is not a required parameter.",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_exclude": {
            "title": "Column name: Exclude",
            "description": "Exclude mainly numerical variables that are not necessary in the analysis, for example x and y columns or latitude/longitude, row numbers or serial IDs. Categorical variables are removed automatically in the data preparation.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["column"]
        },
        "methods": {
            "title": "Methods",
            "description": "The name of methods for Outlier detection to be used, as a comma-separated string. Outlier detection methods considered. Use extractMethods (TODO how to link to that) to get outlier detection methods implemented in this package. Example = \"mixediqr, logboxplot, iqr, distboxplot, jknife, semiqr, hampel, iforest, lof, mahal\" (TODO: Any others? Complete set?)",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["year", "column"]
        },
        "silence_true_errors": {
            "title": "True or False: Show execution errors and therefore for multiple species the code will break if one of the methods fails to execute.",
            "description": "If \"true\", .",
            "schema": {
                "type": "boolean"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": []
        },
        "missingness": {
            "title": "Missingness",
            "description": "Allowed missing values in a column to allow a user decide whether to remove the individual columns or rows from the data sets. Default 0.1. Therefore, if a column has more than 10 % missing values, then it will be removed from the dataset rather than the rows.",
            "schema": {
                "type": "number"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "default": 0.1,
            "keywords": []
        },
        "threshold": {
            "title": "Outlier Threshold",
            "description": "Value to consider whether the outlier is an absolute outlier or not. If no threshold is specified, loess threshold optimization is used.",
            "schema": {
                "type": "number"
            },
            "minOccurs": 0,
            "maxOccurs": 1,
            "keywords": []
        },
        "colname_species": {
            "title": "Column name: Species",
            "description": "A column with species names if the dataset for species is a dataframe not a list.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["column"]
        }
    },
    "outputs": {
        "cleaned_data": {
            "title": "Cleaned data",
            "description": "A table with data extracted from the reference dataset set during outlier detection.",
            "schema": {
                "type": "object",
                "contentMediaType": "application/json"
            }
        }
    },
    "example": {
        "inputs": {
            "input_data": "https://localhost/download/out/multiprecleaned.csv",
            "colname_variable": "bio6",
            "multiple_species": true,
            "colname_exclude": "x,y",
            "methods": "mixediqr, logboxplot, iqr, distboxplot, jknife, semiqr, hampel, iforest, lof, mahal",
            "silence_true_errors": true,
            "missingness": 0.1,
            "threshold": 0.7,
            "colname_species": "species"
        }
    }
}
