<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Download species records from online database."><title>Download species records from online database. — getdata • specleanr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download species records from online database. — getdata"><meta property="og:description" content="Download species records from online database."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">specleanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/eOutlier.html">Environmental outlier detection in fish species records.</a>
    <a class="dropdown-item" href="../articles/Plants.html">Detecting environmental outliers in environmental data for plants.</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/AnthonyBasooma/specleanr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Download species records from online database.</h1>
      <small class="dont-index">Source: <a href="https://github.com/AnthonyBasooma/specleanr/blob/HEAD/R/getdata.R" class="external-link"><code>R/getdata.R</code></a></small>
      <div class="d-none name"><code>getdata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download species records from online database.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getdata</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  colsp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  isFish <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  gbiflim <span class="op">=</span> <span class="fl">1e+06</span>,</span>
<span>  vertlim <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  inatlim <span class="op">=</span> <span class="fl">3000</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Data frame, list or vector of species names to retrieve records from online
databases (GBIF, VertNET, and iNaturalist).</p></dd>


<dt>colsp</dt>
<dd><p>A variable of species names. Provided if data is a data frame, so not
required for lists and vector.</p></dd>


<dt>bbox</dt>
<dd><p>Bounding box to limit the download of records within a particular area. Otherwise all
records from the GBIF will be downloaded. These can be provided in two forms,
either a shapefile <code>(sf)</code> class accepted or provide a list of
<code>xmin</code>, <code>ymin</code>, <code>xmax</code>, and <code>ymax</code>.</p></dd>


<dt>isFish</dt>
<dd><p>logical, to indicate if the occurrence records extracted are for fish taxa or not. This allows to clean the species names
accordingly. For other taxa a different name checks is conducted. Default is <code>TRUE</code>.</p></dd>


<dt>gbiflim</dt>
<dd><p>Limits on the records from the Global Biodiversity Information Platform</p></dd>


<dt>vertlim</dt>
<dd><p>Limits on the records from VertNET.</p></dd>


<dt>inatlim</dt>
<dd><p>Limits on the records from iNaturalist database.</p></dd>


<dt>verbose</dt>
<dd><p><strong>TRUE</strong> if detailed messages should be indicated and <strong>FALSE</strong>
if download messages are not needed. Default <strong>TRUE</strong>.</p></dd>


<dt>warn</dt>
<dd><p>logical, to indicate if warning messages should be shown. Default <code>FALSE</code>.</p></dd>


<dt>...</dt>
<dd><p>More function for species data download can be used.
See <code><a href="https://docs.ropensci.org/rgbif/reference/occ_data.html" class="external-link">rgbif::occ_data</a></code> for more information, <code><a href="https://docs.ropensci.org/rinat/reference/get_inat_obs.html" class="external-link">rinat::get_inat_obs</a></code>, and
<code><a href="https://docs.ropensci.org/rvertnet/reference/searchbyterm.html" class="external-link">rvertnet::searchbyterm</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Lists of species records from online databases</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note always check the validity of the species name with standard database FishBase or World Register of Marine Species.
       If the records are more than 50000 in GBIF, and extent can be provide to limit the download.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gbaloni</span> <span class="op">&lt;-</span> <span class="fu"><a href="check_names.html">check_names</a></span><span class="op">(</span>data <span class="op">=</span> <span class="st">'gymnocephalus baloni'</span>, pct<span class="op">=</span><span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gbdata</span> <span class="op">&lt;-</span> <span class="fu">getdata</span><span class="op">(</span>data<span class="op">=</span><span class="va">gbaloni</span>, gbiflim <span class="op">=</span> <span class="fl">100</span>, inatlim <span class="op">=</span> <span class="fl">100</span>, vertlim <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Get for two species</span></span></span>
<span class="r-in"><span><span class="va">sp_records</span> <span class="op">&lt;-</span> <span class="fu">getdata</span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Gymnocephalus baloni'</span>, <span class="st">'Hucho hucho'</span><span class="op">)</span>,gbiflim <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                            inatlim <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                            vertlim <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#3. Generate species list from a dataframe</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efidata</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">danube</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/danube/basinfinal.shp'</span>, package<span class="op">=</span><span class="st">'specleanr'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">danubebasin</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="va">danube</span>, quiet<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">datachecked</span> <span class="op">&lt;-</span> <span class="fu"><a href="check_names.html">check_names</a></span><span class="op">(</span>data<span class="op">=</span> <span class="va">efidata</span>,colsp <span class="op">=</span> <span class="st">'species'</span>, pct<span class="op">=</span><span class="fl">90</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="co">#clean names</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Onlinedf</span> <span class="op">&lt;-</span> <span class="fu">getdata</span><span class="op">(</span>data <span class="op">=</span> <span class="va">datachecked</span>, colsp<span class="op">=</span><span class="st">'speciescheck'</span>, bbox<span class="op">=</span><span class="va">danubebasin</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by h g.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

