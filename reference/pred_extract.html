<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Preliminary data cleaning including removing duplicates, records outside a particular basin, and NAs. — pred_extract • specleanr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Preliminary data cleaning including removing duplicates, records outside a particular basin, and NAs. — pred_extract"><meta name="description" content="Preliminary data cleaning including removing duplicates, records
  outside a particular basin, and NAs."><meta property="og:description" content="Preliminary data cleaning including removing duplicates, records
  outside a particular basin, and NAs."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">specleanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/eOutlier.html">Environmental outlier detection in fish species records.</a></li>
    <li><a class="dropdown-item" href="../articles/generaloutlier.html">General outlier detection and removal using ensembling principle</a></li>
    <li><a class="dropdown-item" href="../articles/Plants.html">Detecting environmental outliers in species distribution models for plants.</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/removedxx/specleanr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Preliminary data cleaning including removing duplicates, records outside a particular basin, and NAs.</h1>
      <small class="dont-index">Source: <a href="https://github.com/removedxx/specleanr/blob/master/R/predextract.R" class="external-link"><code>R/predextract.R</code></a></small>
      <div class="d-none name"><code>pred_extract.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Preliminary data cleaning including removing duplicates, records
  outside a particular basin, and NAs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pred_extract</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">raster</span>,</span>
<span>  <span class="va">lat</span>,</span>
<span>  <span class="va">lon</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">colsp</span>,</span>
<span>  minpts <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  list <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  merge <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p><code>dataframe</code>. Data frame with multiple species or only one
species for checking records with no coordinates, duplicates, and check for
records that fall on land, sea, country or city centroids, and geographical
outliers(Zzika et al., 2022).</p></dd>


<dt id="arg-raster">raster<a class="anchor" aria-label="anchor" href="#arg-raster"></a></dt>
<dd><p><code>raster</code>. Environmental layers from different providers
such as WORLDCLIM (), Hydrogaphy90m (), CHELSA, Copernicus ().</p></dd>


<dt id="arg-lat-lon">lat, lon<a class="anchor" aria-label="anchor" href="#arg-lat-lon"></a></dt>
<dd><p><code>coordinates</code>. variable for latitude and longitude column
names.</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p><code>sf</code> or <code>vector</code>. Object of class 'shapefile' If only a particular basin is
considered. Bounding box vector points can also be provided in the form
<code>"c(xmin, ymin, xmax, ymax)"</code>. <code>xmin</code> is the minimum longitude,
<code>ymin</code> is the minimum latitude, <code>xmax</code> is the maximum longitude
and <code>xmax</code> is the minimum latitude.</p></dd>


<dt id="arg-colsp">colsp<a class="anchor" aria-label="anchor" href="#arg-colsp"></a></dt>
<dd><p><code>string</code>. variable already in the data.</p></dd>


<dt id="arg-minpts">minpts<a class="anchor" aria-label="anchor" href="#arg-minpts"></a></dt>
<dd><p><code>numeric</code>. Minimum number of records for the species after
removing duplicates and those within a particular basin.</p></dd>


<dt id="arg-multiple">multiple<a class="anchor" aria-label="anchor" href="#arg-multiple"></a></dt>
<dd><p><code>logical</code>. TRUE if species are more than one and FALSE for one species
in the data.</p></dd>


<dt id="arg-list">list<a class="anchor" aria-label="anchor" href="#arg-list"></a></dt>
<dd><p><code>logical</code>. If TRUE the a list of multiple species data frames will be
generated and FALSE for a dataframe of species data sets. Default TRUE</p></dd>


<dt id="arg-merge">merge<a class="anchor" aria-label="anchor" href="#arg-merge"></a></dt>
<dd><p><code>logical</code>. To add the other columns in the species data after data
extraction. Default <strong>TRUE</strong>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code>. if TRUE message and warnings will be produced. Default <code>TRUE</code>.</p></dd>


<dt id="arg-warn">warn<a class="anchor" aria-label="anchor" href="#arg-warn"></a></dt>
<dd><p><code>logical</code>. indicating to whether to show implementation warning or
not. Default <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>dataframe</code> or <code>list</code> of precleaned data sets for single or multiple species.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"efidata"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">danube</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/danube/basinfinal.shp'</span>, package<span class="op">=</span><span class="st">'specleanr'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">danubebasin</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="va">danube</span>, quiet<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Get environmental data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">worldclim</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/worldclim.tiff'</span>, package<span class="op">=</span><span class="st">'specleanr'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">referencedata</span> <span class="op">&lt;-</span> <span class="fu">pred_extract</span><span class="op">(</span>data <span class="op">=</span> <span class="va">efidata</span>,</span></span>
<span class="r-in"><span>                          raster<span class="op">=</span> <span class="va">worldclim</span> ,</span></span>
<span class="r-in"><span>                          lat <span class="op">=</span><span class="st">"decimalLatitude"</span>,</span></span>
<span class="r-in"><span>                          lon <span class="op">=</span> <span class="st">'decimalLongitude'</span>,</span></span>
<span class="r-in"><span>                          colsp <span class="op">=</span> <span class="st">'scientificName'</span>,</span></span>
<span class="r-in"><span>                          bbox <span class="op">=</span> <span class="va">danubebasin</span>,</span></span>
<span class="r-in"><span>                          multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                          list<span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">#list will be generated for all species</span></span></span>
<span class="r-in"><span>                          minpts <span class="op">=</span> <span class="fl">7</span>, merge<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by x x.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

